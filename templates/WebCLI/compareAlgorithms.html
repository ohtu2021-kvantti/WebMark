{% extends 'base.html' %}

{% load version_selector_form %}
{% block title %}Algorithm comparison{% endblock %}

{% block content %}
<div class="d-flex flex-row flex-wrap justify-content-center">
    <div class="p-4">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Select version:</th>
                    <td>{% version_selector_form 'selector1' 'item1_id' versions1 av1 %}</td>
                    <td>{% version_selector_form 'selector2' 'item2_id' versions2 av2 %}</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>name</th>
                    <td>{{ a1.name }}</td>
                    <td>{{ a2.name }}</td>
                </tr>
                <tr>
                    <th>type</th>
                    <td>{{ a1.algorithm_type.type_name }}</td>
                    <td>{{ a2.algorithm_type.type_name }}</td>
                </tr>
                <tr>
                    <th>author</th>
                    <td>{{ a1.user.username }}</td>
                    <td>{{ a2.user.username }}</td>
                </tr>
                <tr>
                    <th>molecule</th>
                    <td>{{ a1.molecule.name }}</td>
                    <td>{{ a2.molecule.name }}</td>
                </tr>
                <tr>
                    <th>iterations</th>
                    <td>{{ av1.iterations }}</td>
                    <td>{{ av2.iterations }}</td>
                </tr>
                <tr>
                    <th>measurements</th>
                    <td>{{ av1.measurements }}</td>
                    <td>{{ av2.measurements }}</td>
                </tr>
                <tr>
                    <th>circuit depth</th>
                    <td>{{ av1.circuit_depth }}</td>
                    <td>{{ av2.circuit_depth }}</td>
                </tr>
                <tr>
                    <th>accuracy</th>
                    <td>{{ av1.accuracy }}</td>
                    <td>{{ av2.accuracy }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="chart_div" class="m-auto"></div>
    <div id="columnchart_material" style="width: 800px; height: 500px;"></div>
</div>


<!-- parse template variables to JSON so they can be safely accessed in JS code -->
{{ a1.name|json_script:"a1-name" }}
{{ a2.name|json_script:"a2-name" }}
{{ graph_data|json_script:"graph-data"}}
{{ algo_data|json_script:"algo-data"}}

{% load manifest %}
<script src="{% manifest 'compareAlgorithms.js' %}"></script>

{% endblock %}